<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Owner's Space</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
</head>
<body class="bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white relative min-h-screen">

  <!-- Particle Background -->
  <div id="particles-js" class="absolute inset-0 -z-10"></div>

  <!-- Main Container -->
  <div class="container mx-auto px-6 py-10">

    <!-- Massive Photo -->
    <div class="flex justify-center mb-10">
      <img src="Myphoto.jpg" alt="Owner Photo" 
           class="w-48 h-48 rounded-full border-4 border-purple-500 shadow-xl hover:scale-105 transition">
    </div>

    <!-- Title -->
    <h1 class="text-4xl font-bold text-center mb-8">Owner's Space</h1>

    <!-- Ebooks Button -->
    <div class="flex justify-center mb-12">
      <a href="ebook.html" 
         class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg shadow-md hover:scale-105 transition">
        üìö View Ebooks
      </a>
    </div>

    <!-- Tabs -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      
      <!-- Projects Tab -->
<div class="bg-gray-900 bg-opacity-70 p-6 rounded-xl shadow-lg">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-2xl font-semibold">üöÄ My Projects</h2>
    <!-- Add Project Button -->
    <button onclick="openProjectForm()" 
            class="px-3 py-1 bg-purple-600 rounded-lg hover:bg-purple-700 transition">
      ‚ûï
    </button>
  </div>
  <ul id="projectList" class="space-y-3">
    <!-- Projects will appear here -->
  </ul>
</div>

<!-- Hidden Add/Edit Project Form -->
<div id="projectForm" class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center hidden">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg w-80">
    <h3 id="formTitle" class="text-xl font-semibold mb-4">Add New Project</h3>
    <input id="projectTitle" type="text" placeholder="Project Title"
           class="w-full mb-3 px-3 py-2 rounded bg-gray-700 text-white">
    <input id="projectLink" type="text" placeholder="Project Link"
           class="w-full mb-3 px-3 py-2 rounded bg-gray-700 text-white">
    <div class="flex justify-end space-x-3">
      <button onclick="closeProjectForm()" 
              class="px-4 py-2 bg-gray-600 rounded-lg hover:bg-gray-700">Cancel</button>
      <button id="saveBtn" onclick="addProject()" 
              class="px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700">Add</button>
    </div>
  </div>
</div>

<script>
  let editIndex = null; // Track which project is being edited
  let dragSrcIndex = null; // Track dragging

  document.addEventListener("DOMContentLoaded", loadProjects);

  function openProjectForm(isEdit = false, index = null) {
    document.getElementById("projectForm").classList.remove("hidden");

    if (isEdit) {
      editIndex = index;
      let projects = JSON.parse(localStorage.getItem("projects")) || [];
      document.getElementById("projectTitle").value = projects[index].title;
      document.getElementById("projectLink").value = projects[index].link;
      document.getElementById("formTitle").innerText = "Edit Project";
      document.getElementById("saveBtn").innerText = "Update";
      document.getElementById("saveBtn").setAttribute("onclick", "updateProject()");
    } else {
      editIndex = null;
      document.getElementById("projectTitle").value = "";
      document.getElementById("projectLink").value = "";
      document.getElementById("formTitle").innerText = "Add New Project";
      document.getElementById("saveBtn").innerText = "Add";
      document.getElementById("saveBtn").setAttribute("onclick", "addProject()");
    }
  }

  function closeProjectForm() {
    document.getElementById("projectForm").classList.add("hidden");
  }

  function addProject() {
    const title = document.getElementById("projectTitle").value;
    const link = document.getElementById("projectLink").value;

    if (title && link) {
      const project = { title, link };

      let projects = JSON.parse(localStorage.getItem("projects")) || [];
      projects.push(project);
      localStorage.setItem("projects", JSON.stringify(projects));

      renderProjects();
      closeProjectForm();
    }
  }

  function updateProject() {
    const title = document.getElementById("projectTitle").value;
    const link = document.getElementById("projectLink").value;

    if (title && link && editIndex !== null) {
      let projects = JSON.parse(localStorage.getItem("projects")) || [];
      projects[editIndex] = { title, link };
      localStorage.setItem("projects", JSON.stringify(projects));

      renderProjects();
      closeProjectForm();
    }
  }

  function deleteProject(index) {
    let projects = JSON.parse(localStorage.getItem("projects")) || [];
    projects.splice(index, 1);
    localStorage.setItem("projects", JSON.stringify(projects));
    renderProjects();
  }

  function renderProjects() {
    const list = document.getElementById("projectList");
    list.innerHTML = "";

    let projects = JSON.parse(localStorage.getItem("projects")) || [];
    projects.forEach((project, index) => {
      const li = document.createElement("li");
      li.classList.add("flex", "items-center", "justify-between", "bg-gray-800", "rounded-lg", "px-4", "py-2", "hover:bg-purple-600", "transition", "cursor-move");
      li.setAttribute("draggable", "true");
      li.setAttribute("data-index", index);

      li.innerHTML = `
        <a href="${project.link}" target="_blank" class="flex-1">
          ${project.title}
        </a>
        <div class="flex space-x-2">
          <button onclick="openProjectForm(true, ${index})" 
                  class="text-blue-400 hover:text-blue-600">‚úèÔ∏è</button>
          <button onclick="deleteProject(${index})" 
                  class="text-red-400 hover:text-red-600">‚ùå</button>
        </div>
      `;

      // Drag Events
      li.addEventListener("dragstart", (e) => {
        dragSrcIndex = index;
        e.dataTransfer.effectAllowed = "move";
      });

      li.addEventListener("dragover", (e) => {
        e.preventDefault();
        li.classList.add("bg-purple-700");
      });

      li.addEventListener("dragleave", () => {
        li.classList.remove("bg-purple-700");
      });

      li.addEventListener("drop", () => {
        li.classList.remove("bg-purple-700");
        handleDrop(index);
      });

      list.appendChild(li);
    });
  }

  function handleDrop(dropIndex) {
    let projects = JSON.parse(localStorage.getItem("projects")) || [];

    if (dragSrcIndex !== null && dragSrcIndex !== dropIndex) {
      const dragged = projects[dragSrcIndex];
      projects.splice(dragSrcIndex, 1); 
      projects.splice(dropIndex, 0, dragged); 

      localStorage.setItem("projects", JSON.stringify(projects));
      renderProjects();
    }
  }

  function loadProjects() {
    renderProjects();
  }
</script>

      <!-- Stats Tab -->
      <div class="bg-gray-900 bg-opacity-70 p-6 rounded-xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">üìä My Stats</h2>
        <div class="space-y-4 text-center">
          <!-- Example GitHub Stats -->
          <img src="https://github-readme-stats.vercel.app/api?username=vortexuser123&show_icons=true&theme=radical" 
               alt="GitHub Stats" class="rounded-lg shadow-md mx-auto">
          <img src="https://github-readme-streak-stats.herokuapp.com/?user=vortexuser123&theme=radical" 
               alt="GitHub Streak" class="rounded-lg shadow-md mx-auto">
        </div>
      </div>
    </div>

  </div>

  <!-- Particles Config -->
  <script>
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 60 },
        "size": { "value": 3 },
        "move": { "speed": 1 },
        "line_linked": { "enable": true, "distance": 150, "color": "#ffffff" },
        "color": { "value": "#ffffff" }
      }
    });
  </script>

</body>
</html>
